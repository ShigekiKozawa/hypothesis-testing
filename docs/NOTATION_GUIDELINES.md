# 表記ガイドライン

**最終更新日**: 2025年12月20日

問題を作成・変更する際に必ず確認すべき表記の統一ルールです。

## 📋 目次

1. [数値の表記](#数値の表記)
2. [単位の表記](#単位の表記)
3. [数式の表記](#数式の表記)
4. [文章表現の統一](#文章表現の統一)
5. [チェックリスト](#チェックリスト)

---

## 数値の表記

### 小数点

- **半角ピリオド**を使用：`0.5`、`12.5`、`8.67`
- ❌ 全角：`０．５`
- ❌ カンマ：`0,5`

### 分数

- **既約分数**で表記：`1/2`、`3/4`、`2/3`
- ❌ 約分されていない：`2/4`、`4/6`

### パーセント

- **半角パーセント記号**を使用：`50%`、`75%`、`0.5%`
- ❌ 全角：`５０％`

### 桁区切り

- **4桁以上の数値はカンマで区切る**：`12,850人`、`1,000円`
- 3桁以下はカンマなし：`850人`、`100円`

### 数値範囲

#### 階級（カテゴリー）
- **ハイフン**を使用：`0-10分`、`40-45kg`、`200-250kWh`

#### 連続範囲（from-to）
- **波線**を使用：`62cm～78cm`、`48cm～92cm`
- 選択肢でも統一：`62cm～78cm`

---

## 単位の表記

### 基本ルール

- **単位は半角**：`cm`、`kg`、`点`、`分`、`人`
- ❌ 全角：`ｃｍ`、`ｋｇ`

### よく使う単位

| 単位 | 表記 | 例 |
|-----|------|---|
| センチメートル | `cm` | `62cm`、`62cm～78cm` |
| キログラム | `kg` | `45kg`、`40-45kg` |
| 点数 | `点` | `70点`、`0-10点` |
| 時間（分） | `分` | `20分`、`10-20分` |
| 時間（時） | `時間` | `3時間` |
| 人数 | `人` | `50人` |
| 世帯数 | `世帯` | `8世帯` |
| 日数 | `日` | `30日` |
| パーセント | `%` | `50%`、`0.5%` |
| キロワット時 | `kWh` | `200-250kWh` |

---

## 数式の表記

### 基本演算子

- **掛け算**：`×`（全角乗算記号）または `*`（半角アスタリスク）
  - 説明文では `×` を優先：`5 × 6 = 30`
  - プログラムコードでは `*` を使用
- **割り算**：`/`（スラッシュ）または `÷`（除算記号）
  - 分数形式：`r = 共分散 / (Xの標準偏差 × Yの標準偏差)`
  - 説明文：`30 / (5 × 6) = 30 / 30 = 1.0`
- **足し算**：`+`
- **引き算**：`-`（ハイフンまたはマイナス記号）

### 統計記号

| 記号 | 表記 | 説明 | 例 |
|-----|------|------|---|
| 平均 | `平均`、`X̄`、`μ` | 文脈に応じて | `平均=50` |
| 標準偏差 | `標準偏差`、`σ`、`s` | 文脈に応じて | `標準偏差=10` |
| 分散 | `分散`、`σ²` | 文脈に応じて | `分散=100` |
| 相関係数 | `r` | 小文字イタリック | `r = 0.8` |
| サンプルサイズ | `n` | 小文字 | `n=50` |
| 第1四分位数 | `Q1`、`第1四分位数` | 両方可 | `Q1=60` |
| 第3四分位数 | `Q3`、`第3四分位数` | 両方可 | `Q3=80` |
| 中央値 | `中央値`、`median` | 日本語優先 | `中央値=70` |

### 公式の表記

#### 相関係数

✅ 正しい：
```
r = 共分散 / (Xの標準偏差 × Yの標準偏差)
r = 30 / (5 × 6) = 30 / 30 = 1.0
```

❌ 避ける（記号の不統一）：
```
r = 共分散 / (σx × σy)  ← 説明文では日本語を優先
```

#### 偏差値

✅ 正しい：
```
偏差値 = 10 × (得点 - 平均) / 標準偏差 + 50
偏差値 = 10 × (70 - 60) / 10 + 50 = 10 × 1 + 50 = 60
```

#### 条件付き確率

✅ 正しい：
```
P(英語|数学) = P(数学∩英語) / P(数学)
P(英語|数学) = 0.30 / 0.60 = 0.5 = 50%
```

❌ 避ける（表記の混在）：
```
P(英語|数学) = 0.30 / 0.60 = 0.5 = 50%
条件付き確率は30÷60=50%  ← 同じ式で表記を変えない
```

---

## 文章表現の統一

### 問題文

- **文末は「～ですか。」**で統一
- 例：`中央値が含まれる階級はどれですか。`

### 選択肢

- **体言止めまたは「～である」形式**を使用
- ✅ 良い例：
  - `平均点は70点である`
  - `四分位範囲は20点である`
  - `平均値は大きく下がるが、中央値は変わらない`

### 解説文

- **「～です。」「～ます。」形式**で統一
- 計算過程は明示：`平均 = 60 + 5 = 65点です。`
- 理由を説明：`外れ値（2点）が平均値には大きく影響するが、中央値には影響が小さいことがわかります。`

---

## チェックリスト

問題を作成・変更する際は、以下をチェックしてください：

### 数値チェック

- [ ] 小数点は半角ピリオド（`.`）を使用
- [ ] 分数は既約分数（`1/2` ○、`2/4` ×）
- [ ] パーセント記号は半角（`50%` ○、`５０％` ×）
- [ ] 4桁以上の数値はカンマ区切り（`12,850人`）

### 単位チェック

- [ ] 単位は半角（`cm`、`kg`、`点`）
- [ ] 階級はハイフン（`0-10分`）
- [ ] 範囲は波線（`62cm～78cm`）

### 数式チェック

- [ ] 掛け算は `×` を使用（説明文）
- [ ] 割り算は `/` または `÷` を使用
- [ ] 公式内の記号は統一（日本語優先）
- [ ] 計算過程は明示（`= 30 / 30 = 1.0`）

### 文章チェック

- [ ] 問題文の文末は「～ですか。」
- [ ] 選択肢は体言止めまたは「～である」
- [ ] 解説文は「～です。」「～ます。」
- [ ] 句点（。）の付け忘れがない

### その他

- [ ] `checkAndFixAnswers.js` を実行（`correct` と `explanation` の整合性）
- [ ] Lintエラーがない
- [ ] chartTypeとchartDataの整合性

---

## 自動チェックスクリプト

問題生成後は必ず以下のスクリプトを実行：

```bash
# 整合性チェック
node scripts/checkAndFixAnswers.js

# Lintチェック
npm run lint
```

---

**最終更新**: 2025年12月20日  
**管理者**: 統計検定Toppa!開発チーム

